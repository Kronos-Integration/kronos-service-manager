{
	"name": "accountImport",

	"flows": {
		"fileParser" {
			"parallel": 10 "steps": {
				"csv_reader": {
					"type": "csv-parse",
					"endpoints": {
						"out1": "step:fileChecker/in"
					}
				},
				"fileChecker": {
					"type": "file-check",
					"endpoints": {
						"out": "step:fileErrorCollector/in",
						"out": "step:fileContentCollector/in"
					}
				},
				"fileErrorCollector": {
					"type": "file-error-log",
					"endpoints": {
						"out": "step:fileContentCollector/minSeverity"
					}
				},
				"fileContentCollector": {
					"type": "file-error-log",
					"endpoints": {
						"out": "step:databaseInsert/in"
					}
				},
				"databaseInsert": {
					"type": "database_accounts"
				}
			}
		}
	}

	"steps": {
		"copyTarBall": {
			"type": "scp",
			"config": {
				"host": "somehost.com",
				"port": 22,
				"keyFile": "/path/to/key/file",
				"targetFileName": "/path/toTarget"
			},
			"endpoints": {
				"out": "step:untar/in"
			}
		},

		"untar": {
			"type": "untar",
			"endpoints": {
				"out1": "flow:fileParser:step:csv_reader/in"
			}
		},



	}
}
